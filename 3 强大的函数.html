<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>强大的函数</title>
</head>

<body>



    <script>

        /* #############################################
        1.带参数默认值的函数
        ############################################### */

        // // ES5
        // function add(a, b) {
        //     // a有值的时候赋值给a，a没有值的时候赋值10
        //     a = a || 10;
        //     b = b || 20;
        //     return a + b;
        // }
        // add();


        // // ES6
        // function add(a = 10, b = 20) {
        //     return a + b;
        // }
        // console.log(add());


        /* #########################################
                2.默认的表达式也可以是一个函数
        ##############################################  */

        // function add(a, b = getVal(5)) {
        //     return a + b;
        // }
        // function getVal(val) {
        //     return val + 5;
        // }
        // console.log(add(10));





        /* ##############################################
                 3.剩余参数，主要解决arguments问题
       ################################################# */

        // ES5的写法

        // function pick(obj) {
        //     console.log(obj);
        //     // console.log(arguments);

        //     let result = Object.create(null);
        //     for (let i = 1; i < arguments.length; i++) {
        //         result[arguments[i]] = obj[arguments[i]];

        //     }
        //     return result;
        // }

        // let book = {
        //     title: 'ES6的教程',
        //     author: '小马哥',
        //     year: 2019,
        // }
        // let BookData = pick(book, 'title', 'year', 'author');
        // console.log(BookData);




        // // ES6的写法
        // // 剩余参数：由三个点...和一个紧跟着的具名参数指定 ...keys

        // function pick(obj, ...keys)
        // // ...keys 解决了arguments的问题
        // {
        //     console.log(keys);

        //     // 创建对象
        //     let result = Object.create(null);
        //     for (let i = 0; i < keys.length; i++) {
        //         result[keys[i]] = obj[keys[i]];
        //     }
        //     return result;
        // }
        // let book = {
        //     title: 'ES6的教程',
        //     author: '小马哥',
        //     year: 2019,
        // }
        // let BookData = pick(book, 'title', 'year', 'author');
        // console.log(BookData);


        // 
        /*
        剩余参数例子
        */

        // function checkArgs(...args) {
        //     console.log(args);
        //     console.log(arguments);
        // }
        // checkArgs('a', 'b', 'c');






        /* #################################################################
                4.扩展运算符 ...
                剩余运算符：把多个独立的合并到一个数组中
                扩展运算符:允许将一个数组分割，并将各个项作为分离的参数传给函数
        #################################################################### */



        // const maxNum = Math.max(20, 30);
        // console.log(maxNum);

        // 处理数组中的最大值
        // const arr = [10, 20, 50, 30, 90, 100, 40];

        //  //ES5的写法
        // console.log(Math.max.apply(null, arr));


        // ES6的写法 
        // ES6 扩展运算符更方便

        // // 将arr中的每一项单独传给max
        // console.log(Math.max(...arr));


        /*################################################################################
                         5.ES6的箭头函数
       #################################################################################  */
        //    使用=>来定义 function(){}等同于 ()=>{}

        // // ES5
        // let add = function (a, b) {
        //     return a + b;
        // }
        // console.log(add(5, 10));

        // // ES6
        // let add = (a, b) => {
        //     return a + b;
        // }
        // console.log(add(5, 10));


        // let add = val => {
        //     return val + 5;
        // }
        // 再简便
        // let add = val => val + 5;
        // console.log(add(10));

        // // let add = (val1, val2) => (val1 + val2);
        // // console.log(add(10));

        // let fn = () => 'hello world!';
        // console.log(fn());

        // let getObj = id => {
        //     return {
        //         id: id,
        //         name: '小马哥'
        //     }
        // }
        // let obj = getObj(1);
        // console.log(obj);


        // // 简便写法
        // let getObj = id => ({ id: id, name: '小马哥' })
        // let obj = getObj(1);
        // console.log(obj);



        // /*
        // 箭头函数=>闭包函数 
        //  */
        // let fn = (function () {
        //     return function () {
        //         console.log('hello es6');

        //     }
        // })();
        // fn();

        // // ES6写法
        // let fn2 = (() => {
        //     return () => {
        //         console.log('hello es62');

        //     }
        // })();

        // fn2();


        // 没有this绑定
        // ES5中this指向：取决于调用该函数的上下文对象

        // let PageHandle = {
        //     id: 123,
        //     init: function () {
        //         document.addEventListener('click', function (event) {
        //             // this.doSomeThings is not a funciton
        //             console.log(this);

        //             this.doSomeThings(event.type);

        //         }.bind(this), false)
        //     },
        //     doSomeThings: function (type) {
        //         console.log(`事件类型：${type},当前id：${this.id}`);

        //     }
        // }
        // PageHandle.init();



        // // 箭头函数没有this指向，箭头函数内部this值只能通过查找作用域链来确定,一旦使用箭头函数，当前就不存在作用域

        // let PageHandle = {
        //     id: 123,
        //     init: function () {
        //         document.addEventListener('click', (event) => {
        //             // this.doSomeThings is not a funciton
        //             console.log(this);

        //             this.doSomeThings(event.type);

        //         }, false)
        //     },
        //     doSomeThings: function (type) {
        //         console.log(`事件类型：${type},当前id：${this.id}`);

        //     }
        // }
        // PageHandle.init();



        /* ####################################################################
                            使用箭头函数注意事项
        ###################################################################### */
        // 1.使用箭头函数 函数内部没有arguments
        // let getVal = (a, b) => {
        //     console.log(arguments);
        //     return a + b;
        // }
        // console.log(getVal(1, 3));


        // 2.箭头函数不能使用new关键字来实例化对象
        // let Person() => {

        // };

        // // function是一个对象，但是箭头函数不是一个对象
        // let p = new Person();








    </script>
</body>

</html>