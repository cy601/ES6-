<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script src="/ES6核心语法/node_modules/jquery/dist/jquery.js"></script>
    <script>

        // Generator 部署ajax操作，让异步代码同步化


        // //回调地狱
        // $.ajax({
        //     type: "get",
        //     url: 'https://free-api.heweather.net/s6/weather/now?location=beijing&key=4693ff5ea653469f8bb0c29638035976',
        //     data: "data",
        //     dataType: "json",
        //     success: function (response) {
        //         console.log(response);
        //         $.ajax({
        //             type: "method",
        //             url: "url",
        //             data: "data",
        //             dataType: "dataType",
        //             success: function (response) {
        //                 $.ajax({
        //                     type: "method",
        //                     url: "url",
        //                     data: "data",
        //                     dataType: "dataType",
        //                     success: function (response) {
        //                         $.ajax({
        //                             type: "method",
        //                             url: "url",
        //                             data: "data",
        //                             dataType: "dataType",
        //                             success: function (response) {

        //                             }
        //                         });
        //                     }
        //                 });
        //             }
        //         });
        //     }
        // });

        /*
                function* main() {
                    let res = yield request('https://free-api.heweather.net/s6/weather/now?location=beijing&key=4693ff5ea653469f8bb0c29638035976')
                    console.log(res);
        
        
                    // 执行后面的操作
                    console.log('数据请求完成，可以继续操作');
                }
        
                const ite = main();
                ite.next();
        
        
        
                function request(url) {
                    alert(url)
                    $.ajax({
                        type: "get",
                        url,
                        // url: "url",
                        data: "data",
                        dataType: "json",
                        success: function (response) {
                            console.log(response);
                            ite.next();
        
                        }
                    });
                } */


        /*
         加载loading...页面
         数据加载完成...（异步操作）
         loading关闭掉
         */


        function* load() {
            loading();
            yield showData();
            hideUI();
        }
        let itLoad = load();
        itLoad.next();



        function loading() {
            console.log('加载loading...页面');

        }
        function showData() {
            setTimeout(() => {
                console.log('数据加载完成');
                itLoad.next();


            }, 1000);
        }
        function hideUI() {
            console.log('隐藏loading...页面');

        }
        // loading();
        // showData();
        // hideUI();

    </script>
</body>

</html>